SubDir PLASMA System test ;

if ! $(PLASMA_READY) {

local model ;

ModuleObjects runTest.cc : System ;

for model in
	Rover.nddl basic-model.nddl k9.backtrack.moderate.nddl
	k9.nddl path-filter.nddl
{
  local exe = $(model:S=) ;
  NddlMain $(exe) : runTest.o : $(model) : System ;
  RunModuleMain run-$(exe) : $(exe) ;
  LocalDepends run-nddl-planner-tests : run-$(exe) ;
}

NddlMain k9-initial : runInitialTest.cc : k9-initial.nddl : System ;
RunModuleMain run-k9-initial : k9-initial ;
LocalDepends run-nddl-planner-tests : run-k9-initial ;

ModuleObjects runTransactionTest.cc : System ;

for model in
	Rover-transaction.nddl basic-model-transaction.nddl k9.backtrack.moderate-transaction.nddl
	k9-transaction.nddl path-filter-transaction.nddl foreach-transaction.nddl force-object-distribution.nddl 
	resource-backtrack-test.nddl
{
  local exe = $(model:S=) ;
  NddlMain $(exe) : runTransactionTest.o : $(model) : System ;
  RunModuleMain run-$(exe) : $(exe) : $(model:S=.xml) ;
  LocalDepends run-nddl-planner-tests : run-$(exe) ;
}

} # PLASMA_READY
